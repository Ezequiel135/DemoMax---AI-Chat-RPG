
<div class="group relative w-full aspect-[3/4] sm:aspect-[4/5] rounded-[2rem] overflow-hidden cursor-pointer bg-slate-900 border border-white/5 transition-all duration-500 hover:shadow-[0_20px_50px_-12px_rgba(236,72,153,0.3)] hover:-translate-y-2 ring-1 ring-white/0 hover:ring-pink-500/50"
     [routerLink]="['/chat', character().id]">
  
  <!-- Rank Badge (Ribbon Style) -->
  @if (rank()) {
    <div class="absolute left-4 top-0 z-30 drop-shadow-xl">
       <div class="w-10 h-12 flex items-center justify-center rounded-b-lg font-tech font-bold text-xl backdrop-blur-md border-x border-b border-white/10"
            [class.bg-yellow-400]="rank() === 1"
            [class.text-black]="rank() === 1"
            [class.bg-slate-200]="rank() === 2"
            [class.text-slate-900]="rank() === 2"
            [class.bg-orange-400]="rank() === 3"
            [class.text-white]="rank() === 3"
            [class.bg-slate-800]="rank()! > 3"
            [class.text-slate-300]="rank()! > 3">
          {{ rank() }}
       </div>
    </div>
  }

  <!-- Image with "Breathing" Zoom & Parallax feel -->
  <div class="absolute inset-0 overflow-hidden">
    <img [src]="character().coverUrl" alt="Cover" 
         loading="lazy"
         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 group-hover:rotate-1">
  </div>
  
  <!-- Cinematic Gradient Overlay (Better Text Readability) -->
  <div class="absolute inset-0 bg-gradient-to-t from-[#0F0E17] via-[#0F0E17]/40 to-transparent opacity-90"></div>
  
  <!-- Interactive Hover Overlay (Light Flash) -->
  <div class="absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>

  <!-- Status Badges (Floating Pills) -->
  <div class="absolute top-4 right-4 z-20 flex flex-col gap-2 items-end">
      @if (character().isTrending) {
        <div class="px-3 py-1 rounded-full bg-orange-500/20 backdrop-blur-md border border-orange-500/30 text-orange-300 text-[10px] font-bold flex items-center gap-1 shadow-lg animate-pulse-slow">
          <span>ğŸ”¥</span> Trending
        </div>
      }
      @if (character().isNew) {
        <div class="px-3 py-1 rounded-full bg-emerald-500/20 backdrop-blur-md border border-emerald-500/30 text-emerald-300 text-[10px] font-bold flex items-center gap-1 shadow-lg">
          <span>âœ¨</span> New
        </div>
      }
  </div>

  <!-- Content Area -->
  <div class="absolute inset-x-0 bottom-0 p-5 z-20 flex flex-col justify-end h-full">
    
    <div class="mt-auto transform transition-transform duration-300 translate-y-4 group-hover:translate-y-0">
        <!-- Creator Tag -->
        <div class="flex items-center gap-2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 -translate-y-2 group-hover:translate-y-0">
          <div class="w-5 h-5 rounded-full bg-gradient-to-r from-pink-500 to-violet-500 p-[1px]">
             <div class="w-full h-full rounded-full bg-black flex items-center justify-center text-[8px] text-white">@</div>
          </div>
          <span class="text-[10px] text-white/80 font-medium tracking-wide">{{ character().creator }}</span>
        </div>

        <!-- Title & Tagline -->
        <h3 class="text-2xl font-black text-white leading-tight drop-shadow-md mb-1 group-hover:text-pink-200 transition-colors">
          {{ character().name }}
        </h3>
        <p class="text-xs text-pink-400 font-bold uppercase tracking-wider mb-3">{{ character().tagline }}</p>
        
        <!-- Description (Expandable) -->
        <div class="h-0 group-hover:h-auto max-h-[60px] overflow-hidden transition-all duration-500 opacity-0 group-hover:opacity-100 mb-3">
           <p class="text-xs text-slate-300 line-clamp-3 leading-relaxed">
             {{ character().description }}
           </p>
        </div>

        <!-- Footer Stats & Action -->
        <div class="flex items-center justify-between pt-3 border-t border-white/10">
           <!-- Stats -->
           <div class="flex items-center gap-3 text-[10px] font-bold text-slate-400 font-tech tracking-wide">
              <span class="flex items-center gap-1 bg-white/5 px-2 py-1 rounded">
                 <svg class="w-3 h-3 text-pink-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                 {{ character().favoriteCount }}
              </span>
              <span class="flex items-center gap-1 bg-white/5 px-2 py-1 rounded">
                 <svg class="w-3 h-3 text-blue-400" fill="currentColor" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>
                 {{ character().messageCount }}
              </span>
           </div>

           <!-- Action Button (Icon) -->
           <div class="w-8 h-8 rounded-full bg-white text-black flex items-center justify-center transform scale-0 group-hover:scale-100 transition-transform duration-300 shadow-[0_0_15px_rgba(255,255,255,0.5)]">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-0.5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
                <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z" />
              </svg>
           </div>
        </div>
    </div>

  </div>
</div>
